var btnSearchForm=document.querySelector(".lead-form__start"),showForm=document.querySelector("form.lead-form__popup"),map=document.querySelector(".map-navigation"),dateCome=showForm.querySelector("[name=date-come]"),dateOut=showForm.querySelector("[name=date-out]"),totalAdult=showForm.querySelector("[name=adult]"),totalChild=showForm.querySelector("[name=children]"),formSortHotel=document.querySelector(".search-form-hotel"),isStorageSupport=!0,storage1="",storage2="",storage3="",storage4="";try{storage1=localStorage.getItem("dateCome"),storage2=localStorage.getItem("dateOut"),storage3=localStorage.getItem("totalAdult"),storage4=localStorage.getItem("totalChild")}catch(t){isStorageSupport=!1}showForm.classList.add("form-close"),btnSearchForm.addEventListener("click",function(t){t.preventDefault(),showForm.classList.toggle("form-show"),storage1?(dateCome.value=storage1,dateOut.focus()):dateCome.focus(),storage2?(dateOut.value=storage2,totalAdult.focus()):dateOut.focus(),storage3?(totalAdult.value=storage3,totalChild.focus()):totalAdult.focus(),storage4?totalChild.value=storage3:totalChild.focus()}),showForm.addEventListener("submit",function(t){dateCome.value&&dateOut.value&&totalAdult.value&&totalChild.value?(localStorage.setItem("dateCome",dateCome.value),localStorage.setItem("dateOut",dateOut.value),localStorage.setItem("totalAdult",totalAdult.value),localStorage.setItem("totalChild",totalChild.value),showForm.classList.remove("enter-error")):(t.preventDefault(),showForm.classList.remove("enter-error"),showForm.offsetWidth=showForm.offsetWidth,showForm.classList.add("enter-error"))}),window.addEventListener("keydown",function(t){27===t.keyCode&&(t.preventDefault(),showForm.classList.contains("form-close")&&(showForm.classList.remove("form-show"),showForm.classList.remove("enter-error")))}),formSortHotel.addEventListener("submit",function(t){t.preventDefault()});